<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CÉLINE — Cupón Especial</title>

  <style>
    :root{
      --bg:#0b0b0c;
      --card:rgba(255,255,255,.08);
      --card2:rgba(255,255,255,.06);
      --text:#f2f2f2;
      --muted:rgba(255,255,255,.72);
      --line:rgba(255,255,255,.14);
      --btn:#ffffff;
      --btnText:#0b0b0c;
      --shadow: 0 20px 60px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(900px 600px at 90% 30%, rgba(255,255,255,.08), transparent 60%),
        linear-gradient(180deg, #0b0b0c 0%, #0b0b0c 60%, #090909 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px 14px;
    }
    .wrap{width:100%; max-width:520px;}
    .card{
      background: linear-gradient(180deg, var(--card) 0%, var(--card2) 100%);
      border:1px solid var(--line);
      border-radius:20px;
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(14px);
    }
    .banner{
      width:100%;
      height:140px;
      background:
        linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.55)),
        url("BANER.jpeg");
      background-size: cover;
      background-position: center;
      display:flex;
      align-items:flex-end;
      padding:18px 18px 16px;
      border-bottom:1px solid var(--line);
    }
    .brand{
      line-height:1.05;
    }
    .brand .title{
      font-weight:700;
      letter-spacing:.22em;
      text-transform:uppercase;
      font-size:18px;
    }
    .brand .sub{
      margin-top:6px;
      font-size:12px;
      color:var(--muted);
      letter-spacing:.12em;
      text-transform:uppercase;
    }

    .content{padding:18px;}
    h1{
      margin:4px 0 8px;
      font-size:28px;
      letter-spacing:.02em;
    }
    p{margin:0 0 14px; color:var(--muted); font-size:14px; line-height:1.45}
    .grid{display:grid; gap:12px; margin-top:8px;}
    label{display:block; font-size:12px; color:var(--muted); margin:0 0 6px; letter-spacing:.06em}
    input, select{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color:var(--text);
      outline:none;
      font-size:14px;
    }
    input::placeholder{color:rgba(255,255,255,.45)}
    input:focus, select:focus{border-color:rgba(255,255,255,.30)}
    select option{color:#111}
    .row2{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    .btn{
      margin-top:12px;
      width:100%;
      padding:13px 14px;
      border:0;
      border-radius:14px;
      background:var(--btn);
      color:var(--btnText);
      font-weight:800;
      letter-spacing:.04em;
      cursor:pointer;
      transition: transform .06s ease;
    }
    .btn:active{transform: scale(.99)}
    .fine{
      margin-top:12px;
      font-size:12px;
      color:rgba(255,255,255,.55);
      line-height:1.35
    }
    .status{
      margin-top:10px;
      font-size:13px;
      color:rgba(255,255,255,.82);
      display:none;
    }
    .pill{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.25);
      font-size:12px;
      color:rgba(255,255,255,.85);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <!-- Banner con tu imagen BANER.jpeg (ya la subiste al repo) -->
      <div class="banner">
        <div class="brand">
          <div class="title">CÉLINE</div>
          <div class="sub">POP-UP CAFÉ BAR • C’est la vie</div>
        </div>
      </div>

      <div class="content">
        <span class="pill">PROMOCIÓN</span>
        <h1>Cupón de beneficio</h1>
        <p>Completa tus datos (15 segundos) y recibe tu cupón al instante.</p>

        <!-- FORM -->
        <form id="f">
          <div class="grid">

            <!-- CUPON (puedes dejarlo fijo) -->
            <input id="cupon" type="hidden" value="CUPÓN DE BENEFICIO" />

            <div>
              <label for="nombre">NOMBRE Y APELLIDO</label>
              <input id="nombre" name="nombre" placeholder="Ej. Juan Pérez" required />
            </div>

            <div class="row2">
              <div>
                <label for="pais">PAÍS (WHATSAPP)</label>
                <select id="pais" name="pais" required>
                  <option value="">Selecciona…</option>
                  <option value="Ecuador">Ecuador (+593)</option>
                  <option value="Colombia">Colombia (+57)</option>
                  <option value="Perú">Perú (+51)</option>
                  <option value="Chile">Chile (+56)</option>
                  <option value="Argentina">Argentina (+54)</option>
                  <option value="México">México (+52)</option>
                  <option value="Estados Unidos">Estados Unidos (+1)</option>
                  <option value="España">España (+34)</option>
                  <option value="Otro">Otro</option>
                </select>
              </div>

              <div>
                <label for="codigo_pais">CÓDIGO PAÍS</label>
                <input id="codigo_pais" name="codigo_pais" placeholder="+593" required />
              </div>
            </div>

            <div>
              <label for="celular">WHATSAPP (NÚMERO)</label>
              <input id="celular" name="celular" placeholder="Ej. 0991234567" inputmode="tel" required />
            </div>

            <div>
              <label for="email">CORREO</label>
              <input id="email" name="email" type="email" placeholder="Ej. nombre@gmail.com" required />
            </div>

            <div>
              <label for="red">RED FAVORITA</label>
              <select id="red" name="red" required>
                <option value="">Selecciona…</option>
                <option value="Instagram">Instagram</option>
                <option value="TikTok">TikTok</option>
                <option value="Facebook">Facebook</option>
                <option value="Otra">Otra</option>
              </select>
            </div>

            <div>
              <label for="usuario">USUARIO REAL / LINK</label>
              <input id="usuario" name="usuario" placeholder="@tuusuario o link" required />
            </div>

            <button class="btn" id="btn" type="submit">OBTENER CUPÓN</button>

            <div class="status" id="status"></div>

            <div class="fine">
              Al enviar aceptas que <b>CÉLINE</b> use estos datos solo para esta promoción y novedades.
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // ✅ TU URL (la que me pasaste)
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxuqU7JeMiO8e1XSjNMsvqWrTEeefNWSaRNAmT4SZSVxZRyTz6gSSggypQpAILVyjGSkQ/exec";

    // Auto-completar código país según país
    const paisSel = document.getElementById("pais");
    const codInp  = document.getElementById("codigo_pais");

    const codes = {
      "Ecuador":"+593","Colombia":"+57","Perú":"+51","Chile":"+56",
      "Argentina":"+54","México":"+52","Estados Unidos":"+1","España":"+34"
    };

    paisSel.addEventListener("change", () => {
      const p = paisSel.value;
      if (codes[p]) codInp.value = codes[p];
      if (p === "Otro") codInp.value = "";
    });

    // Enviar a Google Sheets (Apps Script)
    const form = document.getElementById("f");
    const statusEl = document.getElementById("status");
    const btn = document.getElementById("btn");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = {
        cupon: document.getElementById("cupon").value.trim(),
        nombre: document.getElementById("nombre").value.trim(),
        pais: document.getElementById("pais").value.trim(),
        codigo_pais: document.getElementById("codigo_pais").value.trim(),
        celular: document.getElementById("celular").value.trim(),
        email: document.getElementById("email").value.trim(),
        red: document.getElementById("red").value.trim(),
        usuario: document.getElementById("usuario").value.trim(),
        origen: window.location.href
      };

      // Validaciones mínimas
      if (!data.nombre || !data.pais || !data.codigo_pais || !data.celular || !data.email || !data.red || !data.usuario) {
        alert("Por favor completa todos los campos.");
        return;
      }
      if (!data.codigo_pais.startsWith("+")) {
        alert("El código país debe iniciar con + (ej: +593).");
        return;
      }

      btn.disabled = true;
      statusEl.style.display = "block";
      statusEl.textContent = "Enviando…";

      try{
        const res = await fetch(SCRIPT_URL, {
          method: "POST",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify(data)
        });

        const out = await res.json();

        if (out && out.ok) {
          statusEl.textContent = "✅ Listo. Tu cupón fue registrado.";
          form.reset();
          // dejar Ecuador por defecto si quieres:
          // paisSel.value = "Ecuador"; codInp.value = "+593";
        } else {
          statusEl.textContent = "❌ No se pudo registrar. Revisa Apps Script.";
          console.log(out);
          alert("No se pudo registrar. Revisa Apps Script.");
        }
      } catch(err){
        console.error(err);
        statusEl.textContent = "❌ Error de conexión. Reintenta.";
        alert("Error de conexión. Reintenta.");
      } finally {
        btn.disabled = false;
      }
    });
  </script>
</body>
</html>


